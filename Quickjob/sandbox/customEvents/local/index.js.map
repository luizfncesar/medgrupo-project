{"version":3,"file":"index.js","sources":["../../../common/js/internal/event/_splitEventStr.js","../../../common/js/internal/event/_reactToEvent.js","../../../common/js/listen.js","../../../common/js/ignore.js","../../../common/js/EventTimeTracker.js","index.js"],"sourcesContent":["const _splitEventStr = eventStr => eventStr.split(\" \");\n\nexport default _splitEventStr;\n","import _splitEventStr from \"./_splitEventStr\";\n\nconst _reactToEvent = (methodName, eventStr, domNodes, callback, isCapture) => {\n\tlet eventTypes = _splitEventStr(eventStr),\n\t\tdomNodeArr = (domNodes.length == null) ? [domNodes] : Array.from(domNodes);\n\n\teventTypes.forEach(eventType => domNodeArr.forEach(domNode => domNode[methodName](eventType, callback, isCapture)));\n};\n\nexport default _reactToEvent;\n","import _reactToEvent from \"./internal/event/_reactToEvent\";\n\nconst listen = (eventStr, domNodes, callback, isCapture = false) => _reactToEvent(\"addEventListener\", eventStr, domNodes, callback, isCapture);\n\nexport default listen;\n","import _reactToEvent from \"./internal/event/_reactToEvent\";\n\nconst ignore = (eventStr, domNodes, callback, isCapture = false) => _reactToEvent(\"removeEventListener\", eventStr, domNodes, callback, isCapture);\n\nexport default ignore;\n","import listen from \"./listen\";\nimport ignore from \"./ignore\";\n\nclass EventTimeTracker {\n\tconstructor() {\n\t\tthis.memo = {};\n\t}\n\n\t_getLastOccurrenceOf(eventType) {\n\t\treturn this.memo[eventType];\n\t}\n\n\t_setLastOccurrenceOf(event) {\n\t\tthis.memo[event.type] = +new Date();\n\t}\n\n\tlisten(eventStr) {\n\t\tthis.ignore(eventStr);\n\t\tlisten(eventStr, document, this._setLastOccurrenceOf.bind(this), true);\n\t}\n\n\tignore(eventStr) {\n\t\tignore(eventStr, document, this._setLastOccurrenceOf.bind(this), true);\n\t}\n\n\tget(eventStr) {\n\t\tlet eventTimes = eventStr.split(\" \")\n\t\t\t.map(eventType => this._getLastOccurrenceOf(eventType))\n\t\t\t.filter(eventTime => eventTime != null);\n\n\t\tif (eventTimes.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn Math.max(...eventTimes);\n\t}\n\n\tgetLastOccurrence(eventStr) {\n\t\treturn this.get(eventStr);\n\t}\n}\n\nexport default EventTimeTracker;\n","import EventTimeTracker from \"../../../common/js/EventTimeTracker\";\n\nlet clickTracker = new EventTimeTracker;\nclickTracker.listen(\"click focus\");\n\nsetInterval(function() {\n\tconsole.log(\"last click: \" + clickTracker.getLastOccurrence(\"click\"));\n}, 1000);\n\nsetInterval(function() {\n\tconsole.log(\"last focus: \" + clickTracker.getLastOccurrence(\"focus\"));\n}, 2000);\n\nsetInterval(function() {\n\tconsole.log(\"last focus OR click: \" + clickTracker.getLastOccurrence(\"click focus\"));\n}, 2000);\n"],"names":["_splitEventStr","eventStr","split","_reactToEvent","methodName","domNodes","callback","isCapture","eventTypes","domNodeArr","length","Array","from","forEach","domNode","eventType","listen","ignore","EventTimeTracker","memo","event","type","Date","document","_setLastOccurrenceOf","bind","eventTimes","map","_getLastOccurrenceOf","filter","eventTime","Math","max","get","clickTracker","setInterval","log","getLastOccurrence"],"mappings":"AAAA,IAAMA,iBAAiB,SAAjBA,cAAiB;SAAYC,SAASC,KAAT,CAAe,GAAf,CAAZ;CAAvB,CAEA;;ACAA,IAAMC,gBAAgB,SAAhBA,aAAgB,CAACC,UAAD,EAAaH,QAAb,EAAuBI,QAAvB,EAAiCC,QAAjC,EAA2CC,SAA3C,EAAyD;KAC1EC,aAAaR,eAAeC,QAAf,CAAjB;KACCQ,aAAcJ,SAASK,MAAT,IAAmB,IAApB,GAA4B,CAACL,QAAD,CAA5B,GAAyCM,MAAMC,IAAN,CAAWP,QAAX,CADvD;;YAGWQ,OAAX,CAAmB;SAAaJ,WAAWI,OAAX,CAAmB;UAAWC,QAAQV,UAAR,EAAoBW,SAApB,EAA+BT,QAA/B,EAAyCC,SAAzC,CAAX;GAAnB,CAAb;EAAnB;CAJD,CAOA;;ACPA,IAAMS,SAAS,SAATA,MAAS,CAACf,QAAD,EAAWI,QAAX,EAAqBC,QAArB;MAA+BC,SAA/B,uEAA2C,KAA3C;SAAqDJ,cAAc,kBAAd,EAAkCF,QAAlC,EAA4CI,QAA5C,EAAsDC,QAAtD,EAAgEC,SAAhE,CAArD;CAAf,CAEA;;ACFA,IAAMU,SAAS,SAATA,MAAS,CAAChB,QAAD,EAAWI,QAAX,EAAqBC,QAArB;MAA+BC,SAA/B,uEAA2C,KAA3C;SAAqDJ,cAAc,qBAAd,EAAqCF,QAArC,EAA+CI,QAA/C,EAAyDC,QAAzD,EAAmEC,SAAnE,CAArD;CAAf,CAEA;;;;;;;;ACJA,AACA,IAEMW;6BACS;;;OACRC,IAAL,GAAY,EAAZ;;;;;uCAGoBJ,WAAW;UACxB,KAAKI,IAAL,CAAUJ,SAAV,CAAP;;;;uCAGoBK,OAAO;QACtBD,IAAL,CAAUC,MAAMC,IAAhB,IAAwB,CAAC,IAAIC,IAAJ,EAAzB;;;;4BAGMrB,UAAU;QACXgB,MAAL,CAAYhB,QAAZ;UACOA,QAAP,EAAiBsB,QAAjB,EAA2B,KAAKC,oBAAL,CAA0BC,IAA1B,CAA+B,IAA/B,CAA3B,EAAiE,IAAjE;;;;4BAGMxB,UAAU;UACTA,QAAP,EAAiBsB,QAAjB,EAA2B,KAAKC,oBAAL,CAA0BC,IAA1B,CAA+B,IAA/B,CAA3B,EAAiE,IAAjE;;;;sBAGGxB,UAAU;;;OACTyB,aAAazB,SAASC,KAAT,CAAe,GAAf,EACfyB,GADe,CACX;WAAa,MAAKC,oBAAL,CAA0Bb,SAA1B,CAAb;IADW,EAEfc,MAFe,CAER;WAAaC,aAAa,IAA1B;IAFQ,CAAjB;;OAIIJ,WAAWhB,MAAX,KAAsB,CAA1B,EAA6B;;;;UAItBqB,KAAKC,GAAL,gCAAYN,UAAZ,EAAP;;;;oCAGiBzB,UAAU;UACpB,KAAKgC,GAAL,CAAShC,QAAT,CAAP;;;;;IAIF;;ACxCA,IAAIiC,eAAe,IAAIhB,gBAAJ,EAAnB;AACAgB,aAAalB,MAAb,CAAoB,aAApB;;AAEAmB,YAAY,YAAW;SACdC,GAAR,CAAY,iBAAiBF,aAAaG,iBAAb,CAA+B,OAA/B,CAA7B;CADD,EAEG,IAFH;;AAIAF,YAAY,YAAW;SACdC,GAAR,CAAY,iBAAiBF,aAAaG,iBAAb,CAA+B,OAA/B,CAA7B;CADD,EAEG,IAFH;;AAIAF,YAAY,YAAW;SACdC,GAAR,CAAY,0BAA0BF,aAAaG,iBAAb,CAA+B,aAA/B,CAAtC;CADD,EAEG,IAFH"}