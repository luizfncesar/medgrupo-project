{"version":3,"file":"index.js","sources":["../../../common/js/Timer.js","../../../common/js/waitInPromise.js","index.js"],"sourcesContent":["/**\n * Representa um temporizador, envolvendo setTimeout numa Promise.\n * \n * @class\n */\nclass Timer {\n\n\t// controller\n\n\t/**\n\t * Inicia o temporizador e retorna uma Promise no final.\n\t * \n\t * @instance\n\t * @memberOf Timer\n\t * @param {number} delay Tempo em milisegundos.\n\t * @return {Promise}\n\t *\n\t * @example\n\t * // Faz algo depois de um segundo.\n\t * var esperaUmSegundo = new Timer.start(1000);\n\t * esperaUmSegundo.then(fazAlgo);\n\t */\n\tstart(delay) {\n\t\tthis.stop();\n\n\t\tif (delay != null && delay > 0) {\n\t\t\treturn new Promise(resolve => {\n\t\t\t\tthis.timeout = setTimeout(() => {\n\t\t\t\t\treturn resolve();\n\t\t\t\t}, delay);\n\t\t\t});\n\t\t}\n\n\t\treturn Promise.resolve();\n\t}\n\n\t/**\n\t * Interrompe o temporizador caso esteja em andamento.\n\t * \n\t * @instance\n\t * @memberOf Timer\n\t *\n\t * @example\n\t * // Interrompido antes de executar o then.\n\t * var esperaUmSegundo = new Timer.start(1000);\n\t * esperaUmSegundo.then(fazAlgo);\n\t * esperaUmSegundo.stop();\n\t */\n\tstop() {\n\t\tif (this.hasOwnProperty(\"timeout\")) {\n\t\t\tclearTimeout(this.timeout);\n\t\t\tdelete this.timeout;\n\t\t}\n\t}\n}\n\nexport default Timer;\n","import Timer from \"./Timer\";\n\nfunction waitInPromise(delay) {\n\treturn function(arg) {\n\t\tlet timer = new Timer();\n\t\treturn timer.start(delay).then(() => arg);\n\t};\n}\n\nexport default waitInPromise;\n","import waitInPromise from \"../../../common/js/waitInPromise\";\n\nconst doubleAndShow = value => {\n\tvalue = value * 2;\n\tconsole.log(value);\n\treturn value;\n};\n\nPromise.resolve(150)\n\t.then(waitInPromise(1200))\n\t.then(doubleAndShow)\n\t.then(waitInPromise(1200))\n\t.then(doubleAndShow)\n\t.then(waitInPromise(1200))\n\t.then(doubleAndShow)\n\t.then(waitInPromise(1200))\n\t.then(doubleAndShow)\n\t.then(waitInPromise(1200))\n\t.then(doubleAndShow)\n\t.then(waitInPromise(1200))\n\t.then(doubleAndShow)\n\t.then(waitInPromise(1200))\n\t.then(doubleAndShow)\n\t.then(waitInPromise(1200))\n\t.then(doubleAndShow)\n\t.then(waitInPromise(1200))\n\t.then(doubleAndShow)\n\t.then(waitInPromise(1200))\n\t.then(doubleAndShow)\n\t.then(waitInPromise(1200))\n\t.then(doubleAndShow)\n\t.then(waitInPromise(1200))\n\t.then(doubleAndShow);\n"],"names":["Timer","delay","stop","Promise","timeout","setTimeout","resolve","hasOwnProperty","waitInPromise","arg","timer","start","then","doubleAndShow","value","log"],"mappings":";;;;;;;;;IAKMA;;;;;;;;;;;;;;;;;;;;;;;;wBAiBCC,OAAO;;;QACPC,IAAL;;OAEID,SAAS,IAAT,IAAiBA,QAAQ,CAA7B,EAAgC;WACxB,IAAIE,OAAJ,CAAY,mBAAW;WACxBC,OAAL,GAAeC,WAAW,YAAM;aACxBC,SAAP;MADc,EAEZL,KAFY,CAAf;KADM,CAAP;;;UAOME,QAAQG,OAAR,EAAP;;;;;;;;;;;;;;;;;;yBAeM;OACF,KAAKC,cAAL,CAAoB,SAApB,CAAJ,EAAoC;iBACtB,KAAKH,OAAlB;WACO,KAAKA,OAAZ;;;;;;IAKH;;ACtDA,SAASI,aAAT,CAAuBP,KAAvB,EAA8B;QACtB,UAASQ,GAAT,EAAc;MAChBC,QAAQ,IAAIV,KAAJ,EAAZ;SACOU,MAAMC,KAAN,CAAYV,KAAZ,EAAmBW,IAAnB,CAAwB;UAAMH,GAAN;GAAxB,CAAP;EAFD;CAMD;;ACPA,IAAMI,gBAAgB,SAAhBA,aAAgB,QAAS;SACtBC,QAAQ,CAAhB;SACQC,GAAR,CAAYD,KAAZ;QACOA,KAAP;CAHD;;AAMAX,QAAQG,OAAR,CAAgB,GAAhB,EACEM,IADF,CACOJ,cAAc,IAAd,CADP,EAEEI,IAFF,CAEOC,aAFP,EAGED,IAHF,CAGOJ,cAAc,IAAd,CAHP,EAIEI,IAJF,CAIOC,aAJP,EAKED,IALF,CAKOJ,cAAc,IAAd,CALP,EAMEI,IANF,CAMOC,aANP,EAOED,IAPF,CAOOJ,cAAc,IAAd,CAPP,EAQEI,IARF,CAQOC,aARP,EASED,IATF,CASOJ,cAAc,IAAd,CATP,EAUEI,IAVF,CAUOC,aAVP,EAWED,IAXF,CAWOJ,cAAc,IAAd,CAXP,EAYEI,IAZF,CAYOC,aAZP,EAaED,IAbF,CAaOJ,cAAc,IAAd,CAbP,EAcEI,IAdF,CAcOC,aAdP,EAeED,IAfF,CAeOJ,cAAc,IAAd,CAfP,EAgBEI,IAhBF,CAgBOC,aAhBP,EAiBED,IAjBF,CAiBOJ,cAAc,IAAd,CAjBP,EAkBEI,IAlBF,CAkBOC,aAlBP,EAmBED,IAnBF,CAmBOJ,cAAc,IAAd,CAnBP,EAoBEI,IApBF,CAoBOC,aApBP,EAqBED,IArBF,CAqBOJ,cAAc,IAAd,CArBP,EAsBEI,IAtBF,CAsBOC,aAtBP,EAuBED,IAvBF,CAuBOJ,cAAc,IAAd,CAvBP,EAwBEI,IAxBF,CAwBOC,aAxBP"}