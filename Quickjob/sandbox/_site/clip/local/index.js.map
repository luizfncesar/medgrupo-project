{"version":3,"file":"index.js","sources":["index.js"],"sourcesContent":["const _getAxisStartProp = isHorizontal => isHorizontal ? \"left\" : \"top\";\n\nconst _getAxisEndProp = isHorizontal => isHorizontal ? \"right\" : \"bottom\";\n\nfunction _getAxisInfo(domCoords, maskCoords, isHorizontal) {\n\tlet startProp           = _getAxisStartProp(isHorizontal),\n\t\tendProp             = _getAxisEndProp(isHorizontal);\n\n\tlet domStart            = domCoords[startProp],\n\t\tdomEnd              = domCoords[endProp],\n\t\tmaskStart           = maskCoords[startProp],\n\t\tmaskEnd             = maskCoords[endProp];\n\n\tlet startBeforeStart    = domStart <= maskStart,\n\t\tstartBeforeStartExc = domStart < maskStart,\n\t\tstartAfterStart     = domStart >= maskStart,\n\t\tstartBeforeEnd      = domStart <= maskEnd,\n\t\tstartAfterEnd       = domStart >= maskEnd;\n\n\tlet endBeforeStart      = domEnd <= maskStart,\n\t\tendAfterStart       = domEnd >= maskStart,\n\t\tendBeforeEnd        = domEnd <= maskEnd,\n\t\tendAfterEnd         = domEnd >= maskEnd,\n\t\tendAfterEndExc      = domEnd > maskEnd;\n\n\tlet isOffBefore         = startBeforeStart && endBeforeStart,\n\t\tisOffAfter          = startAfterEnd && endAfterEnd,\n\t\tisContained         = startAfterStart && endBeforeEnd,\n\t\tisContainer         = startBeforeStart && endAfterEnd,\n\t\tisClippedBefore     = startBeforeStartExc && endAfterStart,\n\t\tisClippedAfter      = startBeforeEnd && endAfterEndExc;\n\n\treturn {\n\t\tisOffBefore,\n\t\tisOffAfter,\n\t\tisContained,\n\t\tisContainer,\n\t\tisClippedBefore,\n\t\tisClippedAfter\n\t};\n}\n\nconst _getVerticalAxisInfo = (domCoords, maskCoords) => _getAxisInfo(domCoords, maskCoords, false);\n\nconst _getHorizontalAxisInfo = (domCoords, maskCoords) => _getAxisInfo(domCoords, maskCoords, true);\n\nfunction clippingInfo(domEl, maskEl = document.body) {\n\tlet domCoords  = domEl.getBoundingClientRect(),\n\t\tmaskCoords = maskEl.getBoundingClientRect();\n\n\tlet vertAxis   = _getVerticalAxisInfo(domCoords, maskCoords),\n\t\thorzAxis   = _getHorizontalAxisInfo(domCoords, maskCoords);\n\n\tlet isOffTop                 = vertAxis.isOffBefore,\n\t\tisOffBottom              = vertAxis.isOffAfter,\n\t\tisOffLeft                = horzAxis.isOffBefore,\n\t\tisOffRight               = horzAxis.isOffAfter,\n\t\tisOff                    = isOffTop || isOffBottom || isOffLeft || isOffRight,\n\t\tisClippedTop             = !isOff && (vertAxis.isClippedBefore),\n\t\tisClippedBottom          = !isOff && (vertAxis.isClippedAfter),\n\t\tisClippedLeft            = !isOff && (horzAxis.isClippedBefore),\n\t\tisClippedRight           = !isOff && (horzAxis.isClippedAfter),\n\t\tisClipped                = isClippedTop || isClippedBottom || isClippedLeft || isClippedRight,\n\t\tisFullyVisible           = vertAxis.isContained && horzAxis.isContained,\n\t\tisInvisible              = isOff,\n\t\tisAsVisibleAsPossible    = isFullyVisible || (vertAxis.isContainer && horzAxis.isContainer) || (vertAxis.isContained && horzAxis.isContainer) || (vertAxis.isContainer && horzAxis.isContained),\n\t\tisNotAsVisibleAsPossible = isInvisible || !isAsVisibleAsPossible,\n\t\tisPartiallyVisible       = !isInvisible && !isFullyVisible;\n\n\treturn {\n\t\tisOffTop,\n\t\tisOffBottom,\n\t\tisOffLeft,\n\t\tisOffRight,\n\t\tisOff,\n\t\tisClippedTop,\n\t\tisClippedBottom,\n\t\tisClippedLeft,\n\t\tisClippedRight,\n\t\tisClipped,\n\t\tisFullyVisible,\n\t\tisPartiallyVisible,\n\t\tisInvisible,\n\t\tisAsVisibleAsPossible,\n\t\tisNotAsVisibleAsPossible\n\t};\n}\n\n\n\n\n\nlet childEl = document.querySelector(\".child\");\nlet parentEl = document.querySelector(\".parent\");\n\nconsole.log(clippingInfo(childEl, parentEl));\n"],"names":["_getAxisStartProp","isHorizontal","_getAxisEndProp","_getAxisInfo","domCoords","maskCoords","startProp","endProp","domStart","domEnd","maskStart","maskEnd","startBeforeStart","startBeforeStartExc","startAfterStart","startBeforeEnd","startAfterEnd","endBeforeStart","endAfterStart","endBeforeEnd","endAfterEnd","endAfterEndExc","isOffBefore","isOffAfter","isContained","isContainer","isClippedBefore","isClippedAfter","_getVerticalAxisInfo","_getHorizontalAxisInfo","clippingInfo","domEl","maskEl","document","body","getBoundingClientRect","vertAxis","horzAxis","isOffTop","isOffBottom","isOffLeft","isOffRight","isOff","isClippedTop","isClippedBottom","isClippedLeft","isClippedRight","isClipped","isFullyVisible","isInvisible","isAsVisibleAsPossible","isNotAsVisibleAsPossible","isPartiallyVisible","childEl","querySelector","parentEl","console","log"],"mappings":"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"}